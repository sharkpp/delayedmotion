(window.webpackJsonpdelayedmotion=window.webpackJsonpdelayedmotion||[]).push([[0],{35:function(e,t,a){e.exports=a(71)},41:function(e,t,a){},42:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),c=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(40),a(41);var i=a(4),o=(a(42),a(18)),u=a.n(o),h=a(30),d=a.n(h),m=a(33),g=(a(64),function(e){var t=e.onNextStep,a=Object(m.a)({accept:"image/jpeg, image/png",onDrop:function(e){if(e[0]){var a=new FileReader;a.onload=function(){var e=new Image;e.src=a.result,e.onload=function(){t(e)}},a.readAsDataURL(e[0])}}}),n=a.rejectedFiles,r=a.getRootProps,c=a.getInputProps,i=n.map((function(e){return l.a.createElement("li",{key:e.path},e.path," \u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002")}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",r({className:"dropzone"}),l.a.createElement("input",c()),l.a.createElement("p",null,"\u753b\u50cf\u3092\u3053\u3053\u306b\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u304b\u3001\u30af\u30ea\u30c3\u30af\u3057\u3066\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"),l.a.createElement("em",null,"jpeg \u3082\u3057\u304f\u306f png \u306e\u307f\u6307\u5b9a\u53ef\u80fd)")),l.a.createElement("ol",null,i))}),s=a(72),f=a(73),w=a(32),p=a.n(w),b=(a(65),function(e){var t=e.onNextStep,a=e.image,r=Object(n.useState)(Object(n.createRef)()),c=Object(i.a)(r,2),o=c[0],u=(c[1],Object(n.useState)(Object(n.createRef)())),h=Object(i.a)(u,2),d=h[0],m=(h[1],Object(n.useState)(Object(n.createRef)())),g=Object(i.a)(m,2),w=g[0],b=(g[1],Object(n.useState)({})),j=Object(i.a)(b,2),v=j[0],E=j[1];Object(n.useEffect)((function(){var e=o.current;e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0,a.width,a.height);var t=w.current;t.width=a.width,t.height=a.height}),[a]);var O=Object(n.useCallback)((function(e){var t=o.current,n=t.getContext("2d"),l=a.width/t.clientWidth,r=w.current,c=r.getContext("2d");c.drawImage(a,0,0,a.width,a.height);var i=d.current;i.width=v.width/5,i.height=v.height/5;var u=i.getContext("2d");if(!(i.width<1||i.height<1)){u.fillStyle="#000000",u.fillRect(0,0,i.width,i.height),u.fillStyle="#FF0000",u.beginPath(),u.ellipse(i.width/2,i.height/2,i.width/2*.9,i.height/2*.9,0,0,2*Math.PI),u.fill();var h=u.getImageData(0,0,i.width,i.height).data,m=5*l,g=v.x*l,s=g+v.width*l,f=v.y*l,p=f+v.height*l;c.fillStyle="rgb(0,0,0,0.5)",c.fillRect(v.x*l,v.y*l,Math.floor((v.width+1)/5)*m,Math.floor((v.height+1)/5)*m);for(var b=f,j=0;b<p;b+=m,++j)for(var E=g,O=0;E<s;E+=m,++O)0==h[4*(O+j*i.width)+0]&&Math.random()<.3&&(c.fillStyle="#FFFFFF",c.fillRect(E,b,m+l,m+l));n.drawImage(r,0,0)}}),[o,w,d,v]),S=Object(n.useCallback)((function(){o.current.toBlob((function(e){t(e)}),"image/jpeg",.9)}),[a,v]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a.Text,null,l.a.createElement(f.a,{onClick:S},"\u9078\u629e\u5b8c\u4e86"),l.a.createElement(p.a,{renderComponent:l.a.createElement("canvas",{ref:o,style:{width:"100%"}}),crop:v,onChange:function(e){return E(e)},onComplete:function(){return O()}})),l.a.createElement("canvas",{ref:w,style:{width:"100%",display:"none"}}),l.a.createElement("canvas",{ref:d,style:{display:"none"}}))}),j=a(66),v=function(e){var t=e.image,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1];Object(n.useEffect)((function(){var e=new FileReader;e.onload=function(e){o(e.target.result)},e.readAsDataURL(t)}),[t]);var u=Object(n.useCallback)((function(){j(t,"sample.jpg","image/jpeg")}),[t]);return l.a.createElement(l.a.Fragment,null,"download image",l.a.createElement("img",{src:c,style:{width:"100%"}}),l.a.createElement(f.a,{onClick:u},"Download"))},E={UploadImage:0,SelectArea:1,DownloadImage:2},O=[{title:"\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"},{title:"\u63fa\u3089\u3059\u7bc4\u56f2\u3092\u8a2d\u5b9a"},{title:"\u5b8c\u6210"}];var S=function(){var e=Object(n.useState)(E.UploadImage),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(i.a)(c,2),h=o[0],m=o[1],s=Object(n.useState)(null),f=Object(i.a)(s,2),w=f[0],p=f[1],j=Object(n.useCallback)((function(e){m(e),r(E.SelectArea)})),S=Object(n.useCallback)((function(e){p(e),r(E.DownloadImage)}));return l.a.createElement("div",{className:"App"},l.a.createElement(d.a,{steps:O,activeStep:a}),l.a.createElement(u.a,null,l.a.createElement(u.a.Body,null,[l.a.createElement(g,{onNextStep:j}),l.a.createElement(b,{onNextStep:S,image:h}),l.a.createElement(v,{image:w})][a])))};c.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.f1b68ab0.chunk.js.map